---
layout: post
title: íŒŒì´ì¬ ì„¬ì˜ê°œìˆ˜(ë°±ì¤€ BOJ 4963)
date: 2022-08-13 20:50:00 +0900
image: ë°±ì¤€.png
tags: ì•Œê³ ë¦¬ì¦˜
categories: ë¬¸ì œí’€ì´
---

<br>

## ë¬¸ì œ

ì •ì‚¬ê°í˜•ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆëŠ” ì„¬ê³¼ ë°”ë‹¤ ì§€ë„ê°€ ì£¼ì–´ì§„ë‹¤. ì„¬ì˜ ê°œìˆ˜ë¥¼ ì„¸ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

![img](https://www.acmicpc.net/upload/images/island.png)

í•œ ì •ì‚¬ê°í˜•ê³¼ ê°€ë¡œ, ì„¸ë¡œ ë˜ëŠ” ëŒ€ê°ì„ ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ìˆëŠ” ì‚¬ê°í˜•ì€ ê±¸ì–´ê°ˆ ìˆ˜ ìˆëŠ” ì‚¬ê°í˜•ì´ë‹¤. 

ë‘ ì •ì‚¬ê°í˜•ì´ ê°™ì€ ì„¬ì— ìˆìœ¼ë ¤ë©´, í•œ ì •ì‚¬ê°í˜•ì—ì„œ ë‹¤ë¥¸ ì •ì‚¬ê°í˜•ìœ¼ë¡œ ê±¸ì–´ì„œ ê°ˆ ìˆ˜ ìˆëŠ” ê²½ë¡œê°€ ìˆì–´ì•¼ í•œë‹¤. ì§€ë„ëŠ” ë°”ë‹¤ë¡œ ë‘˜ëŸ¬ì‹¸ì—¬ ìˆìœ¼ë©°, ì§€ë„ ë°–ìœ¼ë¡œ ë‚˜ê°ˆ ìˆ˜ ì—†ë‹¤.

<br>

## ì…ë ¥

ì…ë ¥ì€ ì—¬ëŸ¬ ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì²«ì§¸ ì¤„ì—ëŠ” ì§€ë„ì˜ ë„ˆë¹„ wì™€ ë†’ì´ hê°€ ì£¼ì–´ì§„ë‹¤. wì™€ hëŠ” 50ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì–‘ì˜ ì •ìˆ˜ì´ë‹¤.

ë‘˜ì§¸ ì¤„ë¶€í„° hê°œ ì¤„ì—ëŠ” ì§€ë„ê°€ ì£¼ì–´ì§„ë‹¤. 1ì€ ë•…, 0ì€ ë°”ë‹¤ì´ë‹¤.

ì…ë ¥ì˜ ë§ˆì§€ë§‰ ì¤„ì—ëŠ” 0ì´ ë‘ ê°œ ì£¼ì–´ì§„ë‹¤.

<br>

## ì¶œë ¥

ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— ëŒ€í•´ì„œ, ì„¬ì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.

<br>

## ì˜ˆì œ ì…ë ¥ 1

```
1 1
0
2 2
0 1
1 0
3 2
1 1 1
1 1 1
5 4
1 0 1 0 0
1 0 0 0 0
1 0 1 0 1
1 0 0 1 0
5 4
1 1 1 0 1
1 0 1 0 1
1 0 1 0 1
1 0 1 1 1
5 5
1 0 1 0 1
0 0 0 0 0
1 0 1 0 1
0 0 0 0 0
1 0 1 0 1
0 0
```

## ì˜ˆì œ ì¶œë ¥ 1 ë³µì‚¬

```
0
1
1
3
1
9
```

<br>

## ğŸ“ í’€ì–´ë³´ê¸°

ğŸ“Œ sysë¥¼ importí•´ ì¬ê·€ ì œí•œì„ ê±´ë‹¤.

``` python
import sys
sys.setrecursionlimit(10000)
```

<br>

ğŸ“Œ ë¬´í•œíˆ ë°˜ë³µí•˜ë©° ì§€ë„ì˜ ë„ˆë¹„ `w`, ë†’ì´ `h`ë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤.

ë§Œì•½ w, h ê°€ ë‘˜ ë‹¤ 0ì´ë¼ë©´ breakí•œë‹¤.

ì§€ë„ë¥¼ ì…ë ¥ë°›ì„ ë¦¬ìŠ¤íŠ¸ `array`, ë‹µì„ ì¶œë ¥í•  `answer`, ë°©ë¬¸ì„ í™•ì¸í•  `visited`ë¥¼ ìƒì„±í•œë‹¤.

í–‰ ê°’ì¸ hë§Œí¼ ë°˜ë³µí•˜ë©° ì§€ë„ì˜ ë‚´ìš©ì„ arrayì— ì…ë ¥ë°›ê³  

ë„ˆë¹„ì™€ ë†’ì´ë§Œí¼ ë°˜ë³µí•˜ë©° ë°©ë¬¸í•œê³³ì´ ì•„ë‹Œê³³ì— answerì— dfs í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œ ê°’ì„ í•©ì‚°í•œë‹¤.

``` python
while True:
    w, h = map(int, input().split())
    if w == h == 0:
        break

    array = []
    answer = 0
    visited = [[False] * w for _ in range(h)]

    for _ in range(h):
        array.append(list(map(int, input().split())))

    for i in range(h):
        for j in range(w):
            if not visited[i][j]:
                answer += dfs(i, j, w, h, array, visited)
    print(answer) 
```

<br>

ğŸ“Œ í•¨ìˆ˜ dfsë¥¼ ì„ ì–¸í•œë‹¤.

`visited[i][j]`ê±°ë‚˜ `array[i][j] == 0`ì¸ ê²½ìš° 0ì„ ë¦¬í„´í•˜ê³  visitedë¥¼ Trueë¡œ ë³€ê²½í•œë‹¤.

ë¸íƒ€íƒìƒ‰ë²•ì„ ì‚¬ìš©í•˜ì—¬ 8ë°©ìœ„ë¥¼ ìˆœíšŒí•˜ë©° nx, nyì— i,  jì— dx, dyë¥¼ í•©ì‚°í•œë‹¤. nx, nyê°€ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ì§€ ì•Šì„ë•Œ,  `array[nx][ny]`ê°€ 1ì´ë¼ë©´ dfsë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•œë‹¤.

í˜¸ì¶œí• ë•Œ ë§ˆë‹¤ 1ì„ ë¦¬í„´í•œë‹¤.

``` python
def dfs(i, j, w, h, array, visited):
    if visited[i][j]:
        return 0
      
    if array[i][j] == 0:
        return 0
      
    visited[i][j] = True
    
    for dx, dy in [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]]:
        nx = i + dx
        ny = j + dy
        if 0 <= nx < h and 0 <= ny < w:
            if array[nx][ny] == 1:
                dfs(nx, ny, w, h, array, visited)
    return 1  
```

<br>

#### ì „ì²´ì½”ë“œ

``` python
import sys
sys.setrecursionlimit(10000)

def dfs(i, j, w, h, array, visited):
    if visited[i][j]:
        return 0
      
    if array[i][j] == 0:
        return 0
      
    visited[i][j] = True
    
    for dx, dy in [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]]:
        nx = i + dx
        ny = j + dy
        if 0 <= nx < h and 0 <= ny < w:
            if array[nx][ny] == 1:
                dfs(nx, ny, w, h, array, visited)
    return 1  

while True:
    w, h = map(int, input().split())
    if w == h == 0:
        break

    array = []
    answer = 0
    visited = [[False] * w for _ in range(h)]

    for _ in range(h):
        array.append(list(map(int, input().split())))

    for i in range(h):
        for j in range(w):
            if not visited[i][j]:
                answer += dfs(i, j, w, h, array, visited)
    print(answer) 
```

